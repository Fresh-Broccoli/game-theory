<!DOCTYPE html>

<head>
  <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@600&display=swap" rel="stylesheet">
    <meta charset="utf-8">
    <title>Resize HTML5 canvas dynamically | www.htmlcheats.com</title>
    <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0px;
      border: 0;
      overflow: hidden; /*  Disable scrollbars */
      display: block;  /* No floating content on sides */
    }
    </style>
</head>

<body>
    <canvas id='c' style='position:absolute; left:0px; top:0px;'>
    </canvas>
    <script>
    (function() {
        var
        // Obtain a reference to the canvas element using its id.
        htmlCanvas = document.getElementById('c'),
        // Obtain a graphics context on the canvas element for drawing.
        context = htmlCanvas.getContext('2d');

       // Start listening to resize events and draw canvas.
       initialize();

       function initialize() {
           // Register an event listener to call the resizeCanvas() function 
           // each time the window is resized.
           window.addEventListener('resize', resizeCanvas, false);
           // Draw canvas border for the first time.
           resizeCanvas();
        }

        // Display custom canvas. In this case it's a blue, 5 pixel 
        // border that resizes along with the browser window.
        function redraw() {
           context.strokeStyle = 'blue';
           context.lineWidth = '5';
           context.strokeRect(0, 0, window.innerWidth, window.innerHeight);
        }

        // Runs each time the DOM window resize event fires.
        // Resets the canvas dimensions to match window,
        // then draws the new borders accordingly.
        function resizeCanvas() {
            htmlCanvas.width = window.innerWidth;
            htmlCanvas.height = window.innerHeight;
            redraw();
        }
    })();

    htmlCanvas = document.getElementById('c'),
    // Obtain a graphics context on the canvas element for drawing.
    context = htmlCanvas.getContext('2d');


    make_base(htmlCanvas, context,'images/prisoner.png');
    make_base(htmlCanvas, context,'images/noun_on.png')
    let size = 200;
    context.font = `${size}px IBM Plex Sans`;
    while (context.measureText("The Prisoner's Dilemna").width > (2/3)*htmlCanvas.width){
        size = size - 1;
        context.font = `${size}px IBM Plex Sans`;
      }
    middle = (htmlCanvas.width - context.measureText("The Prisoner's Dilemna").width)/2;
    context.fillText("The Prisoner's Dilemna", middle, size);

    function make_base(canvas, context, img_path)
    {
      base_image = new Image();
      base_image.src = img_path;
      base_image.onload = function(){
        var bike_height = this.naturalHeight;
        var bike_width = this.naturalWidth;
        var x = (1/3)*canvas.width;
        context.drawImage(base_image, 3, 100, x, (bike_height/bike_width)*x);
    }};

    function getMousePos(canvas, event) {
    var rect = canvas.getBoundingClientRect();
    return {
        x: event.clientX - rect.left,
        y: event.clientY - rect.top
    };
    }

    var rect = {
    x:0,
    y:0,
    width:200,
    height:100
    };

    function isInside(pos, rect){
    return pos.x > rect.x && pos.x < rect.x+rect.width && pos.y < rect.y+rect.height && pos.y > rect.y
    }

    canvas.addEventListener('click', function(evt) {
    var mousePos = getMousePos(canvas, evt);

    if (isInside(mousePos,rect)) {
        alert('clicked inside rect');
    }else{
        alert('clicked outside rect');
    }   
    }, false);


    </script>
</body> 
</html>