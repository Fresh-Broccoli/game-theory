<!DOCTYPE html>

<head>
  <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@600&display=swap" rel="stylesheet">
    <meta charset="utf-8">
    <title>Resize HTML5 canvas dynamically | www.htmlcheats.com</title>
    <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0px;
      border: 0;
      overflow: hidden; /*  Disable scrollbars */
      display: block;  /* No floating content on sides */
    }
    </style>
</head>

<body>
    <style>
    input:focus {
        outline: none
    }
    input {
        border-color: #000000 #000000 #3b3b3b #000000;
    }
    ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
        color: #1a1a1a;
        opacity: 1; /* Firefox */
    }
    </style>
    <input type="text" id= "name" style="background-color:#000000;color:#3b3b3b;position:absolute;left:100px;top:200px;width:600px;" placeholder="Name"/>
    <input type="text" id= "name2" style="background-color:#000000;color:#3b3b3b;position:absolute;left:100px;top:300px;width:600px;" placeholder="Room"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.7/pixi.min.js"></script>
    <script>
        const app = new PIXI.Application({
            autoResize: true,
            resolution: devicePixelRatio,
            backgroundColor: 0x000000
        });
        document.body.appendChild(app.view);

        const buttons_scale = (e) => {
                scale = e.width/e.height;
                e.height = (1/3)*app.screen.height;
                e.width = scale*e.height;
                console.log(mugshot.width);
                console.log(mugshot.height);
        }

        const title_scale = (e) => {
                console.log("height")
                scale = 59/796;
                e.width = (2/3)*app.screen.width;
                e.height = scale*e.width;
        }

        const mugshot = new PIXI.Sprite.from('images/mug.png');
        mugshot.interactive = true;
        mugshot.on('pointerdown', function() {
            let data2 = document.getElementById('name').value;
            let data = document.getElementById('name2').value;
            location.href = "/index3.html?" + data + "/" + data2;
        })
        mugshot.on('mouseout', function() {
            mugshot.texture = PIXI.Texture.from('images/mug.png')
        })
        mugshot.on('mouseover', function() {
            mugshot.texture = PIXI.Texture.from('images/mug_white.png')
        })
        mugshot.anchor.set(0.5,0.5);
        buttons_scale(mugshot);
        mugshot.x = (1/3)*mugshot.width;
        mugshot.y = (1/3)*app.screen.height;
        app.stage.addChild(mugshot);

        const title = new PIXI.Sprite.from('images/title.png')
        title.anchor.set(0.5,0.5);
        title_scale(title);
        title.x = (1/2)*app.screen.width;
        title.y = title.height;
        app.stage.addChild(title);

        scale_factor = 10;
        

        window.addEventListener('resize', resize);

        function resize() {
            app.renderer.resize(window.innerWidth, window.innerHeight);

            let size = 50;
            document.getElementById("name").style.left = (1/4)*app.screen.width + "px";
            document.getElementById("name").style.width = (1/2)*app.screen.width + "px";
            document.getElementById("name").style.font = `${size}px IBM Plex Sans`;
            document.getElementById("name").style.top = (1/4)*app.screen.height + "px";

            document.getElementById("name2").style.left = (1/4)*app.screen.width + "px";
            document.getElementById("name2").style.width = (1/2)*app.screen.width + "px";
            document.getElementById("name2").style.font = `${size}px IBM Plex Sans`;
            document.getElementById("name2").style.top = (2/4)*app.screen.height + "px";

            buttons_scale(mugshot);
            title_scale(title);
            mugshot.position.set(
                (1/2)*app.screen.width,
                app.screen.height - (1/2)*mugshot.height
            );

            title.position.set(
                (1/2)*app.screen.width,
                title.height
            );
        }
        resize();
    </script>
</body> 
</html>